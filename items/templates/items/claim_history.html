{% extends 'base.html' %}
{% block content %}
<div class="min-h-screen bg-[#0f172a] py-12 px-8 text-white">
    <div class="max-w-7xl mx-auto mb-10">
        <h1 class="text-3xl font-bold text-blue-500 mb-2">Claim History</h1>
        <p class="text-slate-400">Track the status of items you have claimed from the Global Feed.</p>
    </div>

    <div class="max-w-7xl mx-auto overflow-hidden rounded-xl border border-blue-500 shadow-2xl">
        <table class="w-full text-left">
            <thead class="bg-blue-600 text-white text-sm uppercase">
                <tr>
                    <th class="px-6 py-4">Item Name</th>
                    <th class="px-6 py-4">Finder</th>
                    <th class="px-6 py-4">Claim Date</th>
                    <th class="px-6 py-4">Proof Provided</th>
                    <th class="px-6 py-4">Status</th>
                    <th class="px-6 py-4">Action</th>
                </tr>
            </thead>
            <tbody class="bg-[#1e293b] divide-y divide-slate-700">
                {% for claim in claims %}
                <tr class="hover:bg-[#2d3a4f] transition">
                    <td class="px-6 py-4 font-bold">{{ claim.item.title }}</td>
                    <td class="px-6 py-4 text-slate-300">{{ claim.item.user.username }}</td>
                    <td class="px-6 py-4 text-slate-400">{{ claim.created_at|date:"M d, Y" }}</td>
                    <td class="px-6 py-4 text-slate-400 text-sm italic">{{ claim.proof_message|truncatechars:30 }}</td>
                    <td class="px-6 py-4">
                        <span class="px-3 py-1 rounded text-[10px] font-bold uppercase 
                            {% if claim.status == 'PENDING' %} bg-amber-500/20 text-amber-400 border border-amber-500/50 
                            {% elif claim.status == 'APPROVED' %} bg-green-500/20 text-green-400 border border-green-500/50
                            {% else %} bg-red-500/20 text-red-400 border border-red-500/50 {% endif %}">
                            {{ claim.status }}
                        </span>
                    </td>
                    <td class="px-6 py-4">
                        <a href="#" class="text-blue-400 hover:text-blue-300 text-xs font-bold underline">Contact Finder</a>
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="px-6 py-12 text-center text-slate-500">
                        <div class="flex flex-col items-center">
                            <i class="fa-solid fa-clock-rotate-left text-4xl mb-4 opacity-20"></i>
                            <p>You haven't made any claims yet.</p>
                            <a href="{% url 'item_list' %}" class="mt-4 text-blue-500 hover:underline">Browse the Global Feed</a>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}